% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\usepackage[utf8]{inputenc}
\DeclareUnicodeCharacter{00A0}{\nobreakspace}
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}

\addto\captionsenglish{\renewcommand{\figurename}{Fig. }}
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\floatname{literal-block}{Listing }



\title{nested\_dict Documentation}
\date{June 08, 2015}
\release{1.5.1}
\author{Leo Goodstadt}
\newcommand{\sphinxlogo}{}
\renewcommand{\releasename}{Release}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@mb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\renewcommand\PYGZsq{\textquotesingle}

\begin{document}

\maketitle
\tableofcontents
\phantomsection\label{index::doc}


Source code at \href{https://github.com/bunbun/nested-dict}{https://github.com/bunbun/nested-dict}

\code{nested\_dict} provides dictionaries with multiple levels of nested-ness:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}

\PYG{n}{nd} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}

\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{a}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{b}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{c}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{d}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{e}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\end{Verbatim}
\end{quote}

Each nested level is created magically when accessed, a process known as ``auto-vivification'' in perl.


\chapter{Working without \texttt{nested\_dict}}
\label{index:introduction}\label{index:working-without-nested-dict}
\href{https://docs.python.org/2/library/collections.html\#collections.defaultdict}{defaultdict} from the python \href{https://docs.python.org/2/library/collections.html}{collections} module provides for one or (with some effort) two levels of nestedness
For example, here is a \href{https://docs.python.org/2/library/collections.html\#collections.defaultdict}{defaultdict}  of \href{https://docs.python.org/2/library/sets.html}{set}s:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c}{\PYGZsh{} One level of nesting}
\PYG{k+kn}{from} \PYG{n+nn}{collections} \PYG{k+kn}{import} \PYG{n}{defaultdict}
\PYG{n}{one\PYGZus{}level\PYGZus{}dict} \PYG{o}{=} \PYG{n}{defaultdict}\PYG{p}{(}\PYG{n+nb}{set}\PYG{p}{)}
\PYG{n}{one\PYGZus{}level\PYGZus{}dict}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1st group}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{add}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}

\PYG{c}{\PYGZsh{} Two levels of nesting}
\PYG{n}{two\PYGZus{}level\PYGZus{}dict} \PYG{o}{=} \PYG{n}{defaultdict}\PYG{p}{(}\PYG{k}{lambda}\PYG{p}{:} \PYG{n}{defaultdict}\PYG{p}{(}\PYG{n+nb}{set}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{two\PYGZus{}level\PYGZus{}dict}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1st group}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{add}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{)}
\end{Verbatim}
\end{quote}

However, the syntax becomes rapidly more ugly with additional levels of nesting, and it is difficult to mix dictionaries with different levels of nestedness.


\chapter{How to use \texttt{nested\_dict}}
\label{index:how-to-use-nested-dict}
Just use \code{nested\_dict} as a drop in replacement for \code{dict}


\section{Flexible levels of nesting}
\label{index:flexible-levels-of-nesting}\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{nd}\PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{+}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chromosomes}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{Y}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{Male}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n+nb+bp}{True}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2nd longest}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr3}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{3rd longest}\PYG{l+s}{\PYGZdq{}}

\PYG{k}{for} \PYG{n}{k}\PYG{p}{,} \PYG{n}{v} \PYG{o+ow}{in} \PYG{n}{nd}\PYG{o}{.}\PYG{n}{items\PYGZus{}flat}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{print} \PYG{l+s}{\PYGZdq{}}\PYG{l+s+si}{\PYGZpc{}\PYGZhy{}50s}\PYG{l+s}{==}\PYG{l+s+si}{\PYGZpc{}20r}\PYG{l+s}{\PYGZdq{}} \PYG{o}{\PYGZpc{}} \PYG{p}{(}\PYG{n}{k}\PYG{p}{,}\PYG{n}{v}\PYG{p}{)}
\end{Verbatim}
\end{quote}

Gives:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{chr3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}                                 \PYG{o}{==}       \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3rd longest}\PYG{l+s}{\PYGZsq{}}
\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{chromosomes}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{Y}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{Male}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}             \PYG{o}{==}                \PYG{n+nb+bp}{True}
\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{chr2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}                                 \PYG{o}{==}       \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2nd longest}\PYG{l+s}{\PYGZsq{}}
\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{chr1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{+}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}                            \PYG{o}{==}                 \PYG{l+m+mi}{311}
\end{Verbatim}
\end{quote}


\section{Fixed levels of nesting and set types}
\label{index:fixed-levels-of-nesting-and-set-types}\begin{description}
\item[{This is necessary if you want the nested dictionary to hold}] \leavevmode\begin{itemize}
\item {} 
a collection (like the \href{https://docs.python.org/2/library/sets.html}{set} in the first example) or

\item {} 
a scalar with useful default values such as \code{int} or \code{str}.

\end{itemize}

\end{description}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c}{\PYGZsh{}   nested dict of lists}
\PYG{n}{nd} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb}{list}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{l+m+mi}{12}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{l+m+mi}{12}\PYG{p}{)}

\PYG{c}{\PYGZsh{}   nested dict of sets}
\PYG{n}{nd} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb}{set}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{add}\PYG{p}{(}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{a}\PYG{l+s}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{add}\PYG{p}{(}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{b}\PYG{l+s}{\PYGZdq{}}\PYG{p}{)}

\PYG{c}{\PYGZsh{}   nested dict of ints}
\PYG{n}{nd} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb}{int}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{4}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{5}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{6}

\PYG{n}{nd}\PYG{o}{.}\PYG{n}{to\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{c}{\PYGZsh{}\PYGZob{}\PYGZsq{}human\PYGZsq{}: \PYGZob{}\PYGZsq{}1\PYGZsq{}: 11\PYGZcb{}, \PYGZsq{}mouse\PYGZsq{}: \PYGZob{}\PYGZsq{}2\PYGZsq{}: 4\PYGZcb{}\PYGZcb{}}


\PYG{c}{\PYGZsh{}   nested dict of strings}
\PYG{n}{nd} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb}{str}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{a}\PYG{l+s}{\PYGZdq{}} \PYG{o}{*} \PYG{l+m+mi}{4}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{b}\PYG{l+s}{\PYGZdq{}} \PYG{o}{*} \PYG{l+m+mi}{5}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{human}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{c}\PYG{l+s}{\PYGZdq{}} \PYG{o}{*} \PYG{l+m+mi}{6}

\PYG{n}{nd}\PYG{o}{.}\PYG{n}{to\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{c}{\PYGZsh{}\PYGZob{}\PYGZsq{}human\PYGZsq{}: \PYGZob{}\PYGZsq{}1\PYGZsq{}: \PYGZsq{}bbbbbcccccc\PYGZsq{}\PYGZcb{}, \PYGZsq{}mouse\PYGZsq{}: \PYGZob{}\PYGZsq{}2\PYGZsq{}: \PYGZsq{}aaaa\PYGZsq{}\PYGZcb{}\PYGZcb{}}
\end{Verbatim}


\section{Set maximum nesting}
\label{index:set-maximum-nesting}
You can also specify a maximum level of nesting even if you do not want to specify the stored type.
For example, if you know beforehand that your data involves a \textbf{maximum} of four nested sub levels, you can add this (very minimal) constraint ahead of time:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}

\PYG{n}{nd4} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{4}\PYG{p}{)}
\PYG{c}{\PYGZsh{} OK: Assign to \PYGZdq{}string\PYGZdq{}}
\PYG{n}{nd4}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{]}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{a}\PYG{l+s}{\PYGZdq{}}

\PYG{c}{\PYGZsh{} Bad: Five levels is one too many}
\PYG{n}{nd4}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{four}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{5}\PYG{p}{]}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{b}\PYG{l+s}{\PYGZdq{}}
\PYG{c}{\PYGZsh{}}
\PYG{c}{\PYGZsh{} KeyError}
\PYG{c}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} nd4[1][2][3][\PYGZdq{}four\PYGZdq{}][5]=\PYGZdq{}b\PYGZdq{}}
\PYG{c}{\PYGZsh{}}
\PYG{c}{\PYGZsh{} KeyError: \PYGZsq{}four\PYGZsq{}}
\PYG{c}{\PYGZsh{}}


\PYG{c}{\PYGZsh{} OK: Assign to fewer levels is fine}
\PYG{n}{nd4}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{two}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}

\PYG{c}{\PYGZsh{} But like with normal dicts, you can\PYGZsq{}t \PYGZdq{}extend a value\PYGZdq{} later}
\PYG{n}{nd4}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{two}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}

\PYG{c}{\PYGZsh{} TypeError}
\PYG{c}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZgt{} nd4[1][\PYGZdq{}two\PYGZdq{}][4] = 3}
\PYG{c}{\PYGZsh{}}
\PYG{c}{\PYGZsh{} TypeError: \PYGZsq{}int\PYGZsq{} object does not support item assignment}
\end{Verbatim}


\chapter{Iterating \texttt{nested\_dict}}
\label{index:iterating-nested-dict}
You can use nested iterators to iterate through \code{nested\_dict} just like ordinary python \href{https://docs.python.org/2/library/stdtypes.html\#typesmapping}{dict}s
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{nd}\PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{+}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chromosomes}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{completed}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2nd longest}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr3}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{3rd longest}\PYG{l+s}{\PYGZdq{}}

\PYG{k}{for} \PYG{n}{key1}\PYG{p}{,} \PYG{n}{value1} \PYG{o+ow}{in} \PYG{n}{nd}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{for} \PYG{n}{key2}\PYG{p}{,} \PYG{n}{value2} \PYG{o+ow}{in} \PYG{n}{value1}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
        \PYG{k}{print} \PYG{p}{(}\PYG{n}{key1}\PYG{p}{,} \PYG{n}{key2}\PYG{p}{,} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{value2}\PYG{p}{)}\PYG{p}{)}

\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr3\PYGZsq{}, \PYGZsq{}3rd longest\PYGZsq{})}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chromosomes\PYGZsq{}, \PYGZsq{}completed\PYGZsq{})}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr2\PYGZsq{}, \PYGZsq{}2nd longest\PYGZsq{})}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr1\PYGZsq{}, \PYGZsq{}\PYGZob{}\PYGZdq{}+\PYGZdq{}: 311\PYGZcb{}\PYGZsq{})}
\end{Verbatim}
\end{quote}

This is less useful if you do not know beforehand how many levels of nesting you have.

Instead, you can use \code{items\_flat()}, \code{keys\_flat()}, and \code{values\_flat()}.
(\code{iteritems\_flat()}, \code{iterkeys\_flat()}, and \code{itervalues\_flat()} are python2.7 style synonyms. )
The \code{\_flat()} functions are just like their normal counterparts except they compress all the nested
keys into \href{https://docs.python.org/2/library/functions.html\#tuple}{tuple}s:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{nd}\PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{+}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chromosomes}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{completed}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2nd longest}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr3}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{3rd longest}\PYG{l+s}{\PYGZdq{}}

\PYG{k}{for} \PYG{n}{keys\PYGZus{}as\PYGZus{}tuple}\PYG{p}{,} \PYG{n}{value} \PYG{o+ow}{in} \PYG{n}{nd}\PYG{o}{.}\PYG{n}{items\PYGZus{}flat}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{print} \PYG{p}{(}\PYG{l+s}{\PYGZdq{}}\PYG{l+s+si}{\PYGZpc{}\PYGZhy{}30s}\PYG{l+s}{ == }\PYG{l+s+si}{\PYGZpc{}20r}\PYG{l+s}{\PYGZdq{}} \PYG{o}{\PYGZpc{}} \PYG{p}{(}\PYG{n}{keys\PYGZus{}as\PYGZus{}tuple}\PYG{p}{,} \PYG{n}{value}\PYG{p}{)}\PYG{p}{)}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr3\PYGZsq{})              ==        \PYGZsq{}3rd longest\PYGZsq{}}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chromosomes\PYGZsq{})       ==          \PYGZsq{}completed\PYGZsq{}}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr2\PYGZsq{})              ==        \PYGZsq{}2nd longest\PYGZsq{}}
\PYG{c}{\PYGZsh{}   (\PYGZsq{}mouse\PYGZsq{}, \PYGZsq{}chr1\PYGZsq{}, \PYGZsq{}+\PYGZsq{})         ==                  311}
\end{Verbatim}
\end{quote}


\chapter{Converting back to dictionaries}
\label{index:converting-back-to-dictionaries}
It is often useful to convert away the magic of \code{nested\_dict}, for example, to \href{https://docs.python.org/2/library/pickle.html}{pickle} the dictionary.

Use \code{nested\_dict.to\_dict()}
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{nd}\PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chr1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{+}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{311}
\PYG{n}{nd}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{mouse}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{chromosomes}\PYG{l+s}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{=}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{completed}\PYG{l+s}{\PYGZdq{}}
\PYG{n}{nd}\PYG{o}{.}\PYG{n}{to\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{c}{\PYGZsh{} \PYGZob{}\PYGZsq{}mouse\PYGZsq{}: \PYGZob{}\PYGZsq{}chr1\PYGZsq{}: \PYGZob{}\PYGZsq{}+\PYGZsq{}: 311\PYGZcb{}, \PYGZsq{}chromosomes\PYGZsq{}: \PYGZsq{}completed\PYGZsq{}\PYGZcb{}\PYGZcb{}}
\end{Verbatim}
\end{quote}


\section{nested\_dict}
\label{nested_dict:nested-dict}\label{nested_dict::doc}\label{nested_dict:module-nested_dict}\index{nested\_dict (module)}

\subsection{Class documentation}
\label{nested_dict:class-documentation}\index{nested\_dict (class in nested\_dict)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict}\pysigline{\strong{class }\code{nested\_dict.}\bfcode{nested\_dict}}~\index{\_\_init\_\_() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.__init__}\pysiglinewithargsret{\bfcode{\_\_init\_\_}}{\optional{\emph{nested\_level}, \emph{value\_type}}}{}~\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{nested\_level}} -- the level of nestedness in the dictionary

\item {} 
\textbf{\texttt{collection\_type}} -- the type of the values held in the dictionary

\end{itemize}

\end{description}\end{quote}

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{n+nb}{list}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{level 1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{level 2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{level 3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{)}

\PYG{n}{b} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb}{int}\PYG{p}{)}
\PYG{n}{b}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{level 1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{level 2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{+}\PYG{o}{=}\PYG{l+m+mi}{3}
\end{Verbatim}
\end{quote}

If nested\_level and value\_type are not defined, the degree of nested-ness is not
fixed. For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}
\end{Verbatim}
\end{quote}

\end{fulllineitems}

\index{iteritems\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.iteritems_flat}\pysiglinewithargsret{\bfcode{iteritems\_flat}}{}{}
python 2.7 style synonym for \code{items\_flat()}

\end{fulllineitems}

\index{items\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.items_flat}\pysiglinewithargsret{\bfcode{items\_flat}}{}{}
iterate through values with nested keys flattened into a tuple

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}
\end{Verbatim}

print list(a.items\_flat())
\end{quote}

Produces:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{[}       \PYG{p}{(}\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{,}   \PYG{l+m+mi}{3}\PYG{p}{)}\PYG{p}{,}
        \PYG{p}{(}\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{,}        \PYG{l+m+mi}{15}\PYG{p}{)}
\PYG{p}{]}
\end{Verbatim}
\end{quote}

\end{fulllineitems}

\index{iterkeys\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.iterkeys_flat}\pysiglinewithargsret{\bfcode{iterkeys\_flat}}{}{}
python 2.7 style synonym for \code{keys\_flat()}

\end{fulllineitems}

\index{keys\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.keys_flat}\pysiglinewithargsret{\bfcode{keys\_flat}}{}{}
iterate through values with nested keys flattened into a tuple

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{print} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{keys\PYGZus{}flat}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\end{Verbatim}
\end{quote}

Produces:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{[}\PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{,} \PYG{p}{(}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{]}
\end{Verbatim}
\end{quote}

\end{fulllineitems}

\index{itervalues\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.itervalues_flat}\pysiglinewithargsret{\bfcode{itervalues\_flat}}{}{}
python 2.7 style synonym for \code{values\_flat()}

\end{fulllineitems}

\index{values\_flat() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.values_flat}\pysiglinewithargsret{\bfcode{values\_flat}}{}{}
iterate through values as a single list, without considering the degree of nesting

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{print} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n}{a}\PYG{o}{.}\PYG{n}{values\PYGZus{}flat}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
\end{Verbatim}
\end{quote}

Produces:
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{15}\PYG{p}{]}
\end{Verbatim}
\end{quote}

\end{fulllineitems}

\index{to\_dict() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.to_dict}\pysiglinewithargsret{\bfcode{to\_dict}}{}{}
Converts the nested dictionary to a nested series of standard \code{dict} objects

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{print} \PYG{n}{a}\PYG{o}{.}\PYG{n}{to\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\end{Verbatim}
\end{quote}
\begin{description}
\item[{Produces:}] \leavevmode
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{:} \PYG{l+m+mi}{3}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{:} \PYG{l+m+mi}{15}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\end{Verbatim}

\end{description}

\end{fulllineitems}

\index{\_\_str\_\_() (nested\_dict.nested\_dict method)}

\begin{fulllineitems}
\phantomsection\label{nested_dict:nested_dict.nested_dict.__str__}\pysiglinewithargsret{\bfcode{\_\_str\_\_}}{\optional{\emph{indent}}}{}
The dictionary formatted as a string
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\textbf{\texttt{indent}} -- The level of indentation for each nested level

\end{description}\end{quote}

For example,
\begin{quote}

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{nested\PYGZus{}dict} \PYG{k+kn}{import} \PYG{n}{nested\PYGZus{}dict}
\PYG{n}{a} \PYG{o}{=} \PYG{n}{nested\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{3}
\PYG{n}{a}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{[}\PYG{l+s}{\PYGZsq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{l+m+mi}{15}

\PYG{k}{print} \PYG{n}{a}
\PYG{k}{print} \PYG{n}{a}\PYG{o}{.}\PYG{n}{\PYGZus{}\PYGZus{}str\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{l+m+mi}{4}\PYG{p}{)}
\end{Verbatim}
\end{quote}
\begin{description}
\item[{Produces:}] \leavevmode
\begin{Verbatim}[commandchars=\\\{\}]
\PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{3}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}\PYG{l+s}{\PYGZdq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{15}\PYG{p}{\PYGZcb{}}\PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZob{}}
    \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{1}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
        \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{2}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
            \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{3}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{3}
        \PYG{p}{\PYGZcb{}}
    \PYG{p}{\PYGZcb{}}\PYG{p}{,}
    \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{A}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{\PYGZob{}}
        \PYG{l+s}{\PYGZdq{}}\PYG{l+s}{B}\PYG{l+s}{\PYGZdq{}}\PYG{p}{:} \PYG{l+m+mi}{15}
    \PYG{p}{\PYGZcb{}}
\PYG{p}{\PYGZcb{}}
\end{Verbatim}

\end{description}

\end{fulllineitems}


\end{fulllineitems}



\subsection{Acknowledgements}
\label{nested_dict:acknowledgements}\begin{quote}

Inspired in part from ideas in:
\href{http://stackoverflow.com/questions/635483/what-is-the-best-way-to-implement-nested-dictionaries-in-python}{http://stackoverflow.com/questions/635483/what-is-the-best-way-to-implement-nested-dictionaries-in-python}
contributed by nosklo

Many thanks
\end{quote}


\subsection{Copyright}
\label{nested_dict:copyright}\begin{quote}

The code is licensed under the MIT Software License
\href{http://opensource.org/licenses/MIT}{http://opensource.org/licenses/MIT}

This essentially only asks that the copyright notices in this code be maintained
for \textbf{source} distributions.
\end{quote}


\renewcommand{\indexname}{Python Module Index}
\begin{theindex}
\def\bigletter#1{{\Large\sffamily#1}\nopagebreak\vspace{1mm}}
\bigletter{n}
\item {\texttt{nested\_dict}}, \pageref{nested_dict:module-nested_dict}
\end{theindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}
